const k=864e5;const D=Symbol.for("constructDateFrom");function N(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&D in e?e[D](t):e instanceof Date?new e.constructor(t):new Date(t)}function p(e,t){return N(e,e)}function H(e,t){const n=()=>N(t?.in,NaN),i=h(e);let o;if(i.date){const s=y(i.date,2);o=C(s.restDateString,s.year)}if(!o||isNaN(+o))return n();const u=+o;let a=0,c;if(i.time&&(a=w(i.time),isNaN(a)))return n();if(i.timezone){if(c=x(i.timezone),isNaN(c))return n()}else{const s=new Date(u+a),m=p(0);return m.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),m.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),m}return p(u+a+c)}const f={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},T=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,U=/^([+-])(\d{2})(?::?(\d{2}))?$/;function h(e){const t={},n=e.split(f.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],f.timeZoneDelimiter.test(t.date)&&(t.date=e.split(f.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=f.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function y(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function C(e,t){if(t===null)return new Date(NaN);const n=e.match(T);if(!n)return new Date(NaN);const r=!!n[4],i=l(n[1]),o=l(n[2])-1,u=l(n[3]),a=l(n[4]),c=l(n[5])-1;if(r)return S(t,a,c)?Y(t,a,c):new Date(NaN);{const s=new Date(0);return!M(t,o,u)||!z(t,i)?new Date(NaN):(s.setUTCFullYear(t,o,Math.max(i,u)),s)}}function l(e){return e?parseInt(e):1}function w(e){const t=e.match(I);if(!t)return NaN;const n=d(t[1]),r=d(t[2]),i=d(t[3]);return O(n,r,i)?n*36e5+r*6e4+i*1e3:NaN}function d(e){return e&&parseFloat(e.replace(",","."))||0}function x(e){if(e==="Z")return 0;const t=e.match(U);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Z(r,i)?n*(r*36e5+i*6e4):NaN}function Y(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const F=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400===0||e%4===0&&e%100!==0}function M(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(F[t]||(g(e)?29:28))}function z(e,t){return t>=1&&t<=(g(e)?366:365)}function S(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function O(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Z(e,t){return t>=0&&t<=59}export{N as c,k as m,H as p,p as t};
